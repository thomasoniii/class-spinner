(window.webpackJsonpspinner=window.webpackJsonpspinner||[]).push([[0],{67:function(e,t,n){e.exports=n(93)},72:function(e,t,n){},82:function(e,t,n){},83:function(e,t,n){},84:function(e,t,n){},85:function(e,t,n){},87:function(e,t,n){},88:function(e,t,n){},93:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"INITIALIZE_STORE",(function(){return H})),n.d(a,"initializeStore",(function(){return V})),n.d(a,"ADD_SPINNER",(function(){return h})),n.d(a,"SELECT_SPINNER",(function(){return g})),n.d(a,"RENAME_SPINNER",(function(){return j})),n.d(a,"DELETE_SPINNER",(function(){return C})),n.d(a,"SET_SCHEME",(function(){return N})),n.d(a,"addSpinner",(function(){return k})),n.d(a,"selectSpinner",(function(){return w})),n.d(a,"renameSpinner",(function(){return R})),n.d(a,"setScheme",(function(){return A})),n.d(a,"deleteSpinner",(function(){return D})),n.d(a,"ADD_CLASSROOM",(function(){return _})),n.d(a,"DELETE_CLASSROOM",(function(){return x})),n.d(a,"SELECT_CLASSROOM",(function(){return M})),n.d(a,"RENAME_CLASSROOM",(function(){return L})),n.d(a,"SET_ROSTER",(function(){return W})),n.d(a,"SET_STUDENT_STATUS",(function(){return B})),n.d(a,"addClassroom",(function(){return J})),n.d(a,"deleteClassroom",(function(){return U})),n.d(a,"selectClassroom",(function(){return F})),n.d(a,"renameClassroom",(function(){return Z})),n.d(a,"setRoster",(function(){return z})),n.d(a,"setStudentStatus",(function(){return G}));var r=n(0),c=n.n(r),l=n(27),s=n.n(l),o=(n(72),n(9)),i=n(52),u=n(28),d=n(110),m=n(107),p=n(24),f=n(109),E=n(25),b=n(17),v=n(13),S=n(23),O=n(32),y=n.n(O),h="ADD_SPINNER",g="SELECT_SPINNER",j="RENAME_SPINNER",C="DELETE_SPINNER",N="SET_SCHEME";function k(){return function(e){var t=y()();e({type:h,payload:{id:t}}),e(w(t))}}function w(e){return{type:g,payload:{id:e}}}function R(e,t){return{type:j,payload:{id:e,name:t}}}function A(e,t){return{type:N,payload:{id:e,scheme:t}}}function D(e){return{type:C,payload:{id:e}}}var P=n(49),I=n.n(P),T=n(59),_="ADD_CLASSROOM",x="DELETE_CLASSROOM",M="SELECT_CLASSROOM",L="RENAME_CLASSROOM",W="SET_ROSTER",B="SET_STUDENT_STATUS",J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y()();return function(){var t=Object(T.a)(I.a.mark((function t(n){return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n({type:_,payload:{id:e}});case 2:return t.next=4,n(F(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},U=function(e){return{type:x,payload:{id:e}}},F=function(e){return{type:M,payload:{id:e}}},Z=function(e,t){return{type:L,payload:{id:e,name:t}}},z=function(e,t){return{type:W,payload:{id:e,roster:t}}},G=function(e,t,n,a){return{type:B,payload:{id:e,spinnerId:t,studentName:n,status:a}}},H="INITIALIZE_STORE",V=function(e){window.localStorage.setItem("spinner",e),window.location.reload()},$=n(33),q=Object($.a)([function(e){return e.spinners}],(function(e){return Object.values(e).find((function(e){return e.selected}))})),K=Object($.a)([function(e){return e.classrooms}],(function(e){return Object.values(e).find((function(e){return e.selected}))})),Q=n(22),X=(n(43),function(e){var t=Object.keys(e.spinners).find((function(t){return!0===e.spinners[t].selected}));return c.a.createElement(Q.a,{label:"Select spinner",outlined:!0,options:Object.values(e.spinners).map((function(e){return{value:e.id,label:e.name}})),value:t,onChange:function(t){return e.selectSpinner(t.target.value)}})}),Y=function(e){var t=Object.values(e.classrooms).map((function(e){return{value:e.id,label:e.name}})),n=Object.keys(e.classrooms).find((function(t){return!0===e.classrooms[t].selected}));return c.a.createElement(Q.a,{label:"Select classroom",outlined:!0,options:t,value:n,onChange:function(t){e.selectClassroom(t.target.value)}})},ee=n(16),te=(n(81),function(e){var t=e.classroom,n=e.spinner,a=t.spinners[n.id]||{},r=t.roster.map((function(e){var t={kid:e};return void 0!==a[e]?t.status=a[e]:t.status="Available",t}));return c.a.createElement(ee.a,{stickyRows:1},c.a.createElement(ee.d,null,c.a.createElement(ee.e,null,c.a.createElement(ee.g,null,c.a.createElement(ee.f,null,"Student"),c.a.createElement(ee.f,null,"Status"))),c.a.createElement(ee.b,null,r.map((function(a){return c.a.createElement(ee.g,{key:a.kid},c.a.createElement(ee.c,null,a.kid),c.a.createElement(ee.c,null,c.a.createElement(Q.a,{options:["Available","Picked","Suspended"],value:a.status,onChange:function(r){return e.updateStatus(t.id,n.id,a.kid,r.target.value)}})))})))))}),ne=(n(82),n(44),n(45),n(46),Object(v.b)((function(e,t){return{selectedClassroom:K(e),classrooms:e.classrooms,selectedSpinner:q(e),spinners:e.spinners}}),a)((function(e){e.classroom;var t=e.renameClassroom,n=e.setRoster,a=e.classrooms,l=e.addClassroom,s=e.deleteClassroom,i=e.selectClassroom,u=e.selectedClassroom,d=void 0===u?{}:u,m=e.spinners,p=e.selectedSpinner,b=e.selectSpinner,v=e.setStudentStatus,O=c.a.useState(!1),y=Object(o.a)(O,2),h=y[0],g=y[1];return c.a.createElement(r.Fragment,null,c.a.createElement(f.a,{open:h,onClose:function(e){g(!1),"accept"===e.detail.action&&s(d.id)}},c.a.createElement(f.e,null,"Import/Export Data"),c.a.createElement(f.d,null,"Really delete ",d.name,"?"),c.a.createElement(f.b,null,c.a.createElement(f.c,{action:"close"},"Cancel"),c.a.createElement(f.c,{action:"accept",isDefaultAction:!0},"Delete"))),c.a.createElement("div",{className:"edit-classroom-container"},c.a.createElement("div",{className:"classroom-selector"},c.a.createElement("span",{className:"dropdown"},c.a.createElement(Y,{classrooms:a,addClassroom:l,selectClassroom:i})),c.a.createElement("span",{className:"buttons"},c.a.createElement(S.a,{icon:"remove_circle",disabled:void 0===d.id,onClick:function(){return g(!0)}}),c.a.createElement(S.a,{icon:"add_circle",onClick:function(){return l()}}))),c.a.createElement(E.a,{fullWidth:!0,className:"classroom-name",outlined:!0,label:"Classroom",value:d.name||"",onChange:function(e){return t(d.id,e.target.value)}}),c.a.createElement(E.a,{className:"classroom-list",textarea:!0,outlined:!0,fullwidth:!0,label:"Students",rows:8,value:(d.roster||[]).join("\n"),onChange:function(e){return n(d.id,e.target.value.split(/\r?\n/))}}),c.a.createElement("div",{className:"spinner-selector"},c.a.createElement(X,{spinners:m,selectedSpinner:p,selectSpinner:b})),c.a.createElement("div",{className:"spinner-details"},d.id&&p&&c.a.createElement(te,{classroom:d,spinner:p,updateStatus:v}))))}))),ae=n(37),re=n(36),ce=n.n(re),le=n(53),se=(n(83),Object.entries(ce.a).reduce((function(e,t){var n=Object(o.a)(t,2),a=n[0],r=n[1];return"schemeGroups"!==a&&(e[a]=r[Object.keys(r).sort().pop()]),e}),{})),oe=function(e,t){var n=e/360*2*Math.PI;return t*Math.tan(n)},ie=function(e){var t=e.classroom,n=e.spinner,a=e.setRoster,l=e.setStudentStatus,s=Object(r.useState)(!1),i=Object(o.a)(s,2),u=i[0],d=i[1],m=Object(r.useState)("nobody-at-all"),p=Object(o.a)(m,2),f=p[0],E=p[1],b=t.spinners[n.id]||{},v=t.roster.map((function(e,t){var n={name:e,color:t};return void 0!==b[e]?n.status=b[e]:n.status="Available",n})),S=e.outerRadius,O=void 0===S?400:S,y=e.innerRadius,h=void 0===y?20:y,g=e.margin,j=void 0===g?20:g,C=O-h-10,N=se[n.scheme||"Set1"],k=360/v.length/2;return c.a.createElement("div",{className:"spinner-container"},c.a.createElement("svg",{style:{width:"70vmin",height:"70vmin"},viewBox:"0 0 ".concat(2*O+j+20," ").concat(2*O+j)},c.a.createElement("g",{className:"spinner ".concat(u?"spinning":""),style:{transformOrigin:"".concat(O+j/2,"px ").concat(O+j/2,"px")}},c.a.createElement("clipPath",{id:"circle"},c.a.createElement("circle",{cx:O+j/2,cy:O+j/2,r:O,fill:"blue"})),c.a.createElement("circle",{cx:O+j/2,cy:O+j/2,r:O,fill:"blue"}),v.map((function(e,t,n){var a=t/n.length*360;return c.a.createElement("g",{clipPath:"url(#circle)",key:e.name+t},c.a.createElement("g",{transform:"translate(".concat(O+h+C+j/2,", ").concat(O+j/2,") rotate(").concat(a,", -").concat(h+C,", 0)")},c.a.createElement("path",{className:"wedge",d:"M".concat(-h-C,",0 l").concat(O,", ").concat(oe(k,O)," l0, ").concat(-2*oe(k,O)," Z"),fill:"Picked"!==e.status||e.name===f?N[e.color%N.length]:"#444444",stroke:e.name===f?"gold":"black",strokeWidth:e.name===f?"10":"2"}),c.a.createElement("text",{textAnchor:"end",alignmentBaseline:"middle",fill:"Picked"!==e.status||e.name===f?"black":"#666666"},e.name)))})),c.a.createElement("circle",{cx:O+j/2,cy:O+j/2,r:h,fill:"black"}),c.a.createElement("circle",{cx:O+j/2,cy:O+j/2,r:O,stroke:"black",fill:"none",strokeWidth:"4"})),e.canSpin&&c.a.createElement("path",{d:"M".concat(2*O+j+20-2,",").concat(O+j/2," l0,-10 l-40,10 l40,10 Z"),className:"spinner-pointer"})),e.canSpin&&c.a.createElement("div",null,c.a.createElement(ae.a,{label:"Spin the wheel",theme:["primaryBg"],onClick:function(){!1===u&&(d(!0),setTimeout((function(){return function(e,t,n,a,r,c){var l=e.find((function(e){return e.winner}));l&&(r(t.id,n.id,l.name,"Picked"),l.status="Picked");var s=e.filter((function(e){return"Available"===e.status})),o=s[Math.floor(Math.random()*s.length)],i=e.findIndex((function(e){return e===o}));if(c(o.name),i>0){var u=e.splice(0,i);e.push.apply(e,Object(le.a)(u))}a(t.id,e.map((function(e){return e.name}))),r(t.id,n.id,o.name,"Picked")}(Object(le.a)(v),t,n,a,l,E)}),2e3),setTimeout((function(){return d(!1)}),4e3))}})))},ue=(n(84),Object(v.b)((function(e,t){return{spinner:e.spinners[t.spinnerID]}}),a)((function(e){var t=c.a.useState(!1),n=Object(o.a)(t,2),a=n[0],l=n[1],s=e.spinner,i=e.setScheme,u=e.renameSpinner,d=e.deleteSpinner;return c.a.createElement(r.Fragment,null,c.a.createElement(f.a,{open:a,onClose:function(e){l(!1),"accept"===e.detail.action&&d(s.id)}},c.a.createElement(f.e,null,"Delete spinner?"),c.a.createElement(f.d,null,"Really delete ",s.name,"?"),c.a.createElement(f.b,null,c.a.createElement(f.c,{action:"close"},"Cancel"),c.a.createElement(f.c,{action:"accept",isDefaultAction:!0},"Delete"))),c.a.createElement("div",{className:"spinner-editor"},c.a.createElement("div",{className:"spinner"},c.a.createElement(ie,{spinner:s,classroom:{roster:["","","","","","","","","","","","","","","","","",""],spinners:{}},canSpin:!1,outerRadius:100})),c.a.createElement("div",{className:"spinner-editor-inputs"},c.a.createElement(E.a,{outlined:!0,label:"Spinner",value:s.name,onChange:function(e){return u(s.id,e.target.value)}}),c.a.createElement(Q.a,{label:"Color Scheme",outlined:!0,value:s.scheme,options:Object.keys(ce.a).filter((function(e){return"schemeGroups"!==e})).sort(),onChange:function(e){return i(s.id,e.target.value)}}),c.a.createElement(S.a,{icon:"delete",onClick:function(){return l(!0)}}))))}))),de=(n(85),n(86),Object(v.b)((function(e){return{spinners:e.spinners,selectedSpinner:q(e)}}),{addSpinner:k,selectSpinner:w})((function(e){var t=e.spinners;return c.a.createElement("div",{className:"edit-spinners-container"},c.a.createElement("div",null,c.a.createElement(ae.a,{label:"Add Spinner",theme:["primaryBg"],onClick:e.addSpinner}),c.a.createElement(d.a,null,c.a.createElement(m.e,{text:"Spinners",disabled:!0}),c.a.createElement(m.a,null),Object.keys(t).sort().map((function(n){var a=t[n];return c.a.createElement(m.e,{key:n,text:a.name,activated:a.selected,onClick:function(){return e.selectSpinner(n)}})})))),e.selectedSpinner&&c.a.createElement(ue,{spinnerID:e.selectedSpinner.id}))}))),me=(n(87),Object(v.b)((function(e,t){return{selectedClassroom:K(e),classrooms:e.classrooms,selectedSpinner:q(e),spinners:e.spinners}}),a)((function(e){var t=e.classrooms,n=e.selectedClassroom,a=e.selectClassroom,l=e.spinners,s=e.selectedSpinner,o=e.selectSpinner,i=e.setRoster,u=e.setStudentStatus;return c.a.createElement(r.Fragment,null,c.a.createElement("div",{className:"classroom-container"},c.a.createElement("div",{className:"classroom-selector"},c.a.createElement(Y,{classrooms:t,selectClassroom:a})),c.a.createElement("div",{className:"spinner-selector"},c.a.createElement(X,{spinners:l,selectSpinner:o})),c.a.createElement("div",{className:"spinner"},n&&s&&c.a.createElement(ie,{classroom:n,spinner:s,canSpin:!0,setStudentStatus:u,setRoster:i}))))}))),pe=(n(88),Object(v.b)((function(e){return{classrooms:e.classrooms,spinners:e.spinners,serializedState:JSON.stringify(e,void 0,2)}}),a)((function(e){var t=e.serializedState,n=Object(r.useState)(!1),a=Object(o.a)(n,2),l=a[0],s=a[1],v=c.a.useState(!1),S=Object(o.a)(v,2),O=S[0],y=S[1],h=c.a.useState(void 0),g=Object(o.a)(h,2),j=g[0],C=g[1],N=Object(b.f)();return c.a.createElement(r.Fragment,null,c.a.createElement(f.a,{open:O,onClose:function(e){if("accept"===e.detail.action)try{JSON.parse(j.length?j:"{}")&&V(j.length?j:"{}")}catch(t){console.log("CANNOT IMPORT INVALID DATA : ",t)}else C(void 0),y(!1)}},c.a.createElement(f.e,null,"Import/Export data"),c.a.createElement(f.d,null,c.a.createElement(E.a,{textarea:!0,outlined:!0,fullwidth:!0,label:"App Data",rows:8,value:void 0!==j?j:t,onChange:function(e){return C(e.target.value)}})),c.a.createElement(f.b,null,c.a.createElement(f.c,{action:"close"},"Cancel"),c.a.createElement(f.c,{action:"accept",isDefaultAction:!0},"Update"))),c.a.createElement(i.a,{fixed:!0,title:"Classroom Spinner",navigationIcon:{onClick:function(){return s(!l)}}}),c.a.createElement(u.a,{modal:!0,open:l,onClose:function(){return s(!1)}},c.a.createElement(u.c,null,c.a.createElement(u.e,null,"Classroom Spinner"),c.a.createElement(u.d,null,"Choose your action")),c.a.createElement(u.b,null,c.a.createElement(d.a,null,c.a.createElement(m.d,{className:"centered-button-list-item"},c.a.createElement(p.a,{label:"Spin the wheel!",raised:!0,onClick:function(){s(!1),N.push("/classroom")}})),c.a.createElement(m.a,null),c.a.createElement(m.d,{className:"centered-button-list-item"},c.a.createElement(p.a,{label:"Edit classrooms",raised:!0,onClick:function(){s(!1),N.push("/edit-classroom")}})),c.a.createElement(m.d,{className:"centered-button-list-item"},c.a.createElement(p.a,{label:"Edit Spinners",raised:!0,onClick:function(){s(!1),N.push("/edit-spinners")}})),c.a.createElement(m.a,null),c.a.createElement(m.d,{className:"centered-button-list-item"},c.a.createElement(p.a,{label:"Import/Export data",raised:!0,onClick:function(){return y(!0)}}))))),c.a.createElement(i.b,null),c.a.createElement(b.c,null,c.a.createElement(b.a,{exact:!0,path:"/"},c.a.createElement("div",{className:"welcome-container"},c.a.createElement("div",null,"Welcome to the classroom spinner!"),c.a.createElement("div",{className:"spinner"},c.a.createElement(ie,{spinner:{scheme:"Set1"},classroom:{roster:["","","","","","","","","","","","","","","","","",""],spinners:{}},canSpin:!1,outerRadius:100})),c.a.createElement("div",null,c.a.createElement(p.a,{label:"Spin the wheel!",raised:!0,onClick:function(){s(!1),N.push("/classroom")}})))),c.a.createElement(b.a,{path:"/classroom"},c.a.createElement(me,null)),c.a.createElement(b.a,{path:"/edit-spinners"},c.a.createElement(de,null)),c.a.createElement(b.a,{path:"/edit-classroom/:classroom_id?"},c.a.createElement(ne,null))))})));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var fe=n(21),Ee=n(47),be=n(62),ve=n(63),Se=(n(90),n(91),n(92),n(12));function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(n,!0).forEach((function(t){Object(Se.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var he={};function ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ge(n,!0).forEach((function(t){Object(Se.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ge(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ce={},Ne=Object(fe.combineReducers)({spinners:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:var n=t.payload.id;return ye({},e,Object(Se.a)({},n,{id:n,name:"New Spinner",scheme:"Set1",selected:!0}));case g:var a=t.payload.id;return Object.entries(e).reduce((function(t,n){var r=Object(o.a)(n,2),c=r[0],l=r[1];return a===c&&!1===l.selected?t[c]=ye({},e[c],{selected:!0}):a!==c&&!0===l.selected?t[c]=ye({},e[c],{selected:!1}):t[c]=l,t}),{});case j:var r=t.payload,c=r.id,l=r.name;return ye({},e,Object(Se.a)({},c,ye({},e[c],{name:l})));case N:var s=t.payload,i=s.id,u=s.scheme;return ye({},e,Object(Se.a)({},i,ye({},e[i],{scheme:u})));case C:var d=t.payload.id,m=Object.keys(e).sort().findIndex((function(e){return e===d}))-1,p=m>-1?Object.keys(e).sort()[m]:Object.keys(e).sort()[1],f=ye({},e);return delete f[d],Object.keys(f).length&&(f[p]=ye({},f[p],{selected:!0})),f;default:return e}},classrooms:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:var n=t.payload.id;return je({},e,Object(Se.a)({},n,{id:n,name:"New Classroom",scheme:"Set1",selected:!0,spinners:{},roster:[]}));case M:var a=t.payload.id;return Object.entries(e).reduce((function(t,n){var r=Object(o.a)(n,2),c=r[0],l=r[1];return a===c&&!1===l.selected?t[c]=je({},e[c],{selected:!0}):a!==c&&!0===l.selected?t[c]=je({},e[c],{selected:!1}):t[c]=l,t}),{});case L:var r=t.payload,c=r.id,l=r.name;return je({},e,Object(Se.a)({},c,je({},e[c],{name:l})));case x:var s=t.payload.id,i=je({},e);return delete i[s],i;case W:var u=t.payload,d=u.id,m=u.roster;return je({},e,Object(Se.a)({},d,je({},e[d],{roster:m})));case B:var p=t.payload,f=p.id,E=p.spinnerId,b=p.studentName,v=p.status,S=je({},e,Object(Se.a)({},f,je({},e[f],{spinners:je({},e[f].spinners,Object(Se.a)({},E,je({},e[f].spinners[E],Object(Se.a)({},b,v))))}))),O=Object.values(S[f].spinners[E]).some((function(e){return"Available"===e}))||Object.values(S[f].spinners[E]).length!==S[f].roster.length;if(!O){var y=S[f].spinners[E];S[f].spinners[E]=Object.keys(y).reduce((function(e,t){return e[t]="Picked"===y[t]?"Available":y[t],e}),{}),S[f].spinners[E][b]=v}return S;case C:var h=t.payload.id;return Object.keys(e).reduce((function(t,n){var a=e[n];return t[n]=a,void 0!==a.spinners[h]&&(t[n]=je({},a,{spinners:je({},a.spinners)}),delete t[n].spinners[h]),t}),{});default:return e}}});n.d(t,"store",(function(){return we}));var ke=localStorage.getItem("spinner")?JSON.parse(localStorage.getItem("spinner")):{},we=Object(fe.createStore)(Ne,ke,Object(ve.composeWithDevTools)(Object(fe.applyMiddleware)(be.a,(function(e){return function(t){return function(n){var a=t(n);return window.localStorage.spinner=JSON.stringify(e.getState()),a}}}))));s.a.render(c.a.createElement(v.a,{store:we},c.a.createElement(Ee.a,{basename:"/"},c.a.createElement(pe,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[67,1,2]]]);
//# sourceMappingURL=main.f962847b.chunk.js.map